<h2>Listado de Alumnos</h2>

<table class="tabla">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nombre Completo</th>
      <th>Matrícula</th>
      <th>Fecha Nacimiento</th>
      <th>Edad</th>
      <th>Estado Civil</th>
      <th>Turno</th>
      <th>Carrera</th>
      <th>Activo</th>
      <th>Creado En</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let a of alumnos">
      <!-- ID no editable -->
      <td>{{ a.id }}</td>

      <!-- Campos editables inline -->
      <td><input [(ngModel)]="a.nombreCompleto" (blur)="guardar(a)" /></td>
      <td><input [(ngModel)]="a.matricula" (blur)="guardar(a)" /></td>
      <td><input type="date" [(ngModel)]="a.fechaNacimiento" (blur)="guardar(a)" /></td>
      <td><input type="number" [(ngModel)]="a.edad" (blur)="guardar(a)" /></td>

      <!-- Select Estado Civil -->
      <td>
        <select [(ngModel)]="a.estadoCivil" (blur)="guardar(a)">
          <option *ngFor="let e of estadoCivilList" [value]="e.nombre">
            {{ e.nombre }}
          </option>
        </select>
      </td>

      <!-- Select Turno -->
      <td>
        <select [(ngModel)]="a.turno" (blur)="guardar(a)">
          <option *ngFor="let t of turnoList" [value]="t.nombre">
            {{ t.nombre }}
          </option>
        </select>
      </td>

      <!-- Select Carrera -->
      <td>
        <select [(ngModel)]="a.carrera" (blur)="guardar(a)">
          <option *ngFor="let c of carreraList" [value]="c.nombre">
            {{ c.nombre }}
          </option>
        </select>
      </td>

      <!-- Checkbox Activo -->
      <td>
        <input type="checkbox" [(ngModel)]="a.activo" (change)="guardar(a)" />
      </td>

      <!-- Fecha Creación solo lectura -->
      <td>{{ a.creadoEn | date: 'short' }}</td>

      <!-- Acciones -->
      <td>
        <button (click)="eliminar(a.id)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Botón para agregar alumno nuevo -->
<div class="acciones">
  <button (click)="abrirNuevo()">➕ Nuevo Alumno</button>
</div>
